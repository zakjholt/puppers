parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Sr7R":[function(require,module,exports) {

},{}],"dm40":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.State=void 0;class t{constructor({client:t,onStateChange:e=(()=>{})}){this.client=t,this.onStateChange=e,this._state={breedOptions:[],selectedBreedValue:"shiba",currentPhoto:void 0,previousPhotos:[],breedsModalOpen:!1},this.generateNextState=this.generateNextState.bind(this),this.onBreedSelect=this.onBreedSelect.bind(this),this.onNewPicButtonClick=this.onNewPicButtonClick.bind(this),this.getNewPhotoData=this.getNewPhotoData.bind(this),this.toggleBreedsModal=this.toggleBreedsModal.bind(this),this.onBreedOptionImgClick=this.onBreedOptionImgClick.bind(this),this.onPreviousPhotoClick=this.onPreviousPhotoClick.bind(this)}generateNextState(t){const e={...this._state,...t};this._state=e,this.onStateChange(this._state)}async onBreedSelect(t){const e=t.target.value,s={selectedBreedValue:e,...await this.getNewPhotoData(e)};this.generateNextState(s)}async onNewPicButtonClick(){const t=await this.getNewPhotoData();this.generateNextState(t)}async getNewPhotoData(t=this._state.selectedBreedValue){const e={currentPhoto:{url:await this.client.getRandomBreedImageUrl(t),alt:t}};if(this._state.currentPhoto){const t=[this._state.currentPhoto,...this._state.previousPhotos];e.previousPhotos=t}return e}toggleBreedsModal(){const{breedsModalOpen:t}=this._state;this.generateNextState({breedsModalOpen:!t})}onBreedOptionImgClick(t){t.stopPropagation(),this.generateNextState({breedsModalOpen:!1,currentPhoto:{url:t.target.src,alt:t.target.alt},selectedBreedValue:t.target.value})}onPreviousPhotoClick(t){const e=t.target.src,s=this._state.previousPhotos.find(t=>t.url===e),o=[this._state.currentPhoto,...this._state.previousPhotos];this.generateNextState({currentPhoto:s,previousPhotos:o})}}exports.State=t;
},{}],"IVsl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DogCeoClient=void 0;class e{constructor(){this._baseUrl="https://dog.ceo/api",this._get=this._get.bind(this),this.getBreedOptions=this.getBreedOptions.bind(this),this.getRandomBreedImageUrl=this.getRandomBreedImageUrl.bind(this)}_get(e){return fetch(`${this._baseUrl}${e}`)}async getBreedOptions(){const e=await this._get("/breeds/list/all"),t=await e.json();return Object.keys(t.message).map(e=>({label:e,value:e}))}async getRandomBreedImageUrl(e){const t=await this._get(`/breed/${e}/images/random`);return(await t.json()).message}}exports.DogCeoClient=e;
},{}],"epB2":[function(require,module,exports) {
"use strict";require("./main.css");var e=require("./state"),t=require("./client");const o={breedSelectContainer:document.querySelector(".breed_select_container"),photoContainer:document.querySelector(".photo_container"),previousPhotosContainer:document.querySelector(".previous_photos_container"),newPhotoButton:document.querySelector(".new_photo_button"),breedsModal:document.querySelector(".breeds_modal"),breedsModalButton:document.querySelector(".breeds_modal_button"),breedsModalOverlay:document.querySelector(".breeds_modal__overlay"),breedsModalGrid:document.querySelector(".breeds_modal__grid")},n=()=>{o.newPhotoButton.addEventListener("click",l.onNewPicButtonClick),o.breedsModalOverlay.addEventListener("click",l.toggleBreedsModal),o.breedsModalButton.addEventListener("click",l.toggleBreedsModal)};function d(e){for(;e.firstChild;)e.removeChild(e.firstChild)}const r=async e=>{const{breedOptions:t,selectedBreedValue:n,currentPhoto:r,previousPhotos:c,breedsModalOpen:i}=e;if(t.length){d(o.breedSelectContainer);const e=document.createElement("select");t.forEach(t=>{const o=document.createElement("option");o.textContent=t.label,o.value=t.value,o.selected=t.value===n,e.appendChild(o)}),o.breedSelectContainer.appendChild(e),e.addEventListener("change",l.onBreedSelect),d(o.breedsModalGrid),(await Promise.all(t.map(async e=>{const t=document.createElement("div"),o=document.createElement("img"),n=await a.getRandomBreedImageUrl(e.value);o.alt=e.value,o.src=n,o.value=e.value,o.onclick=l.onBreedOptionImgClick,t.appendChild(o);const d=document.createElement("div");return d.classList.add("label"),d.textContent=e.value,t.appendChild(d),t}))).forEach(e=>o.breedsModalGrid.appendChild(e))}if(r){d(o.photoContainer);const e=document.createElement("img");e.alt=r.alt,e.src=r.url,o.photoContainer.appendChild(e)}c.length&&(d(o.previousPhotosContainer),c.forEach(e=>{const t=document.createElement("img");t.alt=e.alt,t.src=e.url,o.previousPhotosContainer.appendChild(t),t.onclick=l.onPreviousPhotoClick})),i?o.breedsModal.classList.remove("hidden"):o.breedsModal.classList.add("hidden")},a=new t.DogCeoClient,l=new e.State({client:a,onStateChange:r}),c=async()=>{const e=await a.getBreedOptions(),t=await l.getNewPhotoData();l.generateNextState({breedOptions:e,...t}),o.newPhotoButton.addEventListener("click",l.onNewPicButtonClick),o.breedsModalOverlay.addEventListener("click",l.toggleBreedsModal),o.breedsModalButton.addEventListener("click",l.toggleBreedsModal)};window.onload=c;
},{"./main.css":"Sr7R","./state":"dm40","./client":"IVsl"}]},{},["epB2"], null)
//# sourceMappingURL=/puppers/main.717c5a41.js.map